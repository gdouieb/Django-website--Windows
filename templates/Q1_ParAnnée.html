{% extends 'base.html' %}

<!-- page Title -->
{% block pageTitle%} Anomalie and Arrondissement {%endblock%}

<!-- page header -->
{% block headerTitle%}
<div class="logoTab">
  <div class="container d-flex align-items-center justify-content-center flex-row my-3">
    <h2>Anomalie</h2>
    <div class="logo mx-3 border-5 border-white">
      <a href="/">
        <img src="https://cdn.dribbble.com/users/2524031/screenshots/13961394/media/fe0cbee48954b7335a47e539c3e2579a.png?compress=1&resize=1000x750&vertical=top"  alt="">
      </a>
    </div>
    <h2>Paris</h2>
  </div>
</div>
{%endblock%}


<!-- page header Content -->
{%block headerContent%}
{% if context.id == 1 %}
<div class="container my-3 p-2 bounce-in-top sticky-top">
  <div class="navbar navbar-expand-lg  rounded">
    <div class="container-fluid">
      <button class="navbar-toggler bg-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon "></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <!-- drop down one -->
        <ul class="navbar-nav my-2 navbar-nav-scroll mx-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-white" href="#" id="navbarScrollingDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Anomalie
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
              {% for type in list_anomalie %}
              <li><a class="dropdown-item" href="?anomalie={{ type }}"> {{ type }} </a></li>
              {% endfor %}
            </ul>
          </li>
          <!-- dropdown two -->
          <li class="nav-item dropdown mx-5">
            <a class="nav-link dropdown-toggle text-white" href="#" id="navbarScrollingDropdown text-white" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Arrondissement
            </a>
            <ul class="dropdown-menu menu1" aria-labelledby="navbarScrollingDropdown">
              <li><a class="dropdown-item" href="/question1/1">1er Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/2">2e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/3">3e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/4">4e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/5">5e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/6">6e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/7">7e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/8">8e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/9">9e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/10">10e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/11">11e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/12">12e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/13">13e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/14">14e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/15">15e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/16">16e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/17">17e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/18">18e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/19">19e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/20">20e Arrondissement</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% elif context.id == 0 %}
<div class="container my-3 p-2 bounce-in-top sticky-top">
  <div class="navbar navbar-expand-lg  rounded">
    <div class="container-fluid">
      <button class="navbar-toggler bg-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <!-- drop down one -->
        <ul class="navbar-nav my-2 navbar-nav-scroll mx-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle text-white" href="#" id="navbarScrollingDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Anomalie
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
              {% for type in list_anomalie %}
              <li><a class="dropdown-item" href="?anomalie={{ type }}"> {{ type }} </a></li>
              {% endfor %}
            </ul>
          </li>
          <!-- dropdown two -->
          <li class="nav-item dropdown mx-5">
            <a class="nav-link dropdown-toggle text-white" href="#" id="navbarScrollingDropdown text-white" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Arrondissement
            </a>
            <ul class="dropdown-menu menu1" aria-labelledby="navbarScrollingDropdown">
              <li><a class="dropdown-item" href="/question1/1/?anomalie={{ context.anomalie }}">1er Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/2/?anomalie={{ context.anomalie }}">2e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/3/?anomalie={{ context.anomalie }}">3e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/4/?anomalie={{ context.anomalie }}">4e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/5/?anomalie={{ context.anomalie }}">5e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/6/?anomalie={{ context.anomalie }}">6e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/7/?anomalie={{ context.anomalie }}">7e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/8/?anomalie={{ context.anomalie }}">8e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/9/?anomalie={{ context.anomalie }}">9e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/10/?anomalie={{ context.anomalie }}">10e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/11/?anomalie={{ context.anomalie }}">11e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/12/?anomalie={{ context.anomalie }}">12e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/13/?anomalie={{ context.anomalie }}">13e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/14/?anomalie={{ context.anomalie }}">14e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/15/?anomalie={{ context.anomalie }}">15e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/16/?anomalie={{ context.anomalie }}">16e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/17/?anomalie={{ context.anomalie }}">17e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/18/?anomalie={{ context.anomalie }}">18e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/19/?anomalie={{ context.anomalie ]]">19e Arrondissement</a></li>
              <li><a class="dropdown-item" href="/question1/20/?anomalie={{ context.anomalie }}">20e Arrondissement</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endif %}
{%endblock%}

<!-- page body -->
{% block Content%} 
<div class="modelImage h-100" style="z-index: 999;">
  <div class="container d-flex align-items-center justify-content-center">
      <div class="fullImage text-white w-50 h-50 p-5">
        <img src="" class="imgShow" alt="">
      </div>
  </div>
</div>

<div class="container">
  {% if context.id == 1 %}
    <div class="my-5">
      <div class="heading">
        <h6 class="fw-semibold">Plus grand nombre d'anomalie dans le<span class="text-danger">{{context.pk}}ème</span> arrondissement. </h6>
      <p class="">
      L'année <span class="fw-semibold">{{ max_key }} </span>  a été celle avec le plus d'anomalies avec <span class="text-primary"> {{ max_value }}</span> anomalies signalées dans le <span class="text-danger">{{context.pk}}ème</span> arrondissement.
      </p>
      </div>

      <div class="mt-3">
        <h6  class="fw-semibold">Plus petit nombre d'anomalie dans le {{context.pk}}ème arrondissement. </h6>
      <p class="">
        L'année <span class="fw-semibold">{{ min_key }}</span>  a été celle avec le petit nombre d'anomalies avec <span class="text-primary"> {{ min_value }}</span> anomalies signalées dans le  <span class="text-danger">{{context.pk}}ème</span> arrondissement.
        </p>
      </div>
  </div>  

  {% elif context.id == 0 %}
    <div class="my-5">
      <div class="heading">
        <h6 class="fw-semibold">Plus grand nombre d'anomalie dans le <span class="text-danger">{{context.pk}}ème</span>  arrondissement pour des <span class="text-primary"> {{context.anomalie}}</span> </h6>
        <p>
          L'année <span class="fw-semibold">{{ max_key }}</span>   a été celle avec le plus d'anoamlies avec <span class="text-primary"> {{ max_value }}</span> anomalies signalées dans le <span class="text-danger">{{context.pk}}ème</span>  arrondissement.
        </p>
      </div>
      <div class="mt-3">
        <h6 class="fw-semibold">Plus petit nombre d'anomalie dans le <span class="text-danger">{{context.pk}}ème</span> arrondissement pour des <span class="text-primary"> {{context.anomalie}}</span> </h6>
        <p>
          L'année <span class="fw-semibold">{{ min_key }}</span>  a été celle avec le petit nombre d'anoamlies avec <span class="text-primary"> {{ min_value }}</span> anomalies signalées dans le <span class="text-danger">{{context.pk}}ème</span> arrondissement.
        </p>
      </div>
    </div> 
  {% endif %}
</div>
<div class="container">
  <div class="contentOne mt-5">
    <div class="row">
      <div class="row mb-3">
        <div class="col-md-8 h-100 mt-3" data-aos="zoom-in" data-aos-duration="1000">
          <table class="table my-2 p-2 text-dark table-hover rounded-1 mx-auto text-center">
            <thead class="bg-success text-white">
              <th>Annee_declaration</th>
              <th>Quantité</th>
            </thead>
            <tbody>
            {% if context.id == 0 %}
            {% for i in context.data_type %}
            <tr>
              <td>{{ i.annee_declaration}}</td>
              <td>{{ i.count }}</td>
            </tr>
            {% endfor %}
            {% elif context.id == 1 %}
            {% for i in context.data %}
              <tr>
                <td>{{ i.annee_declaration}}</td>
                <td>{{ i.count }}</td>
              </tr>
            {% endfor %}
            {% endif %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="row pt-3 mb-3">
        {% if context.id == 0 %}
        <div class="col-md-6 rounded my-5 mx-auto" id="image_bg" data-aos="zoom-in" data-aos-duration="1000">
          <h4>Graphe (hist)</h4>
          <img src = '{{ context.img_type.0 | safe}}' class="img-fluid shadow-lg" alt=raté>
        </div>
        <div class="col-md-6 rounded my-5 mx-auto" id="image_bg" data-aos="zoom-out" data-aos-duration="1000">
          <h4>Graphe (pie)</h4>
          <img src = '{{ context.img_type.1 | safe }}' class="img-fluid shadow-lg" alt=raté>
        </div>
        {% elif context.id == 1 %}

        <div class="col-lg-5 rounded my-5 mx-auto" id="image_bg" data-aos="zoom-in" data-aos-duration="1000">
          <h4>Graphe (hist)</h4>
          <img src = '{{ context.img.0 | safe}}' class="img-fluid shadow-lg" alt=raté>
        </div>
  
        <div class="col-lg-5 my-5 rounded mx-auto" id="image_bg" data-aos="zoom-out" data-aos-duration="1000">
          <h4>Graphe (pie)</h4>
          <img src = '{{ context.img.1 | safe }}' class="img-fluid shadow-lg" alt=raté>
        </div>
        {% endif %}
      </div>
      <div class="row mt-5">
        <div class="col-lg-9 mx-auto text-center">
          {% if context.id == 0 %}
          <h4 class="mb-3 fw-semibold">Map</h4>
          <div id="map" data-my_data="" class="imageContent my-3 shadow-lg">
            displaying map
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <div class="clickBtn text-center my-5">
    <a href="/home" class="btn btn-outline-success my-3 btn-lg" role="button">Go Back</a>
  </div>
</div>

  
<script>
  var data_to_map = {{context.data_to_map|safe}};
</script>
<script src="/static/js/arrondissements.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC6lyRej85oh6sIiC_xmwx9jjhLdXj9OEk&callback=initMap&v=weekly" defer></script>
{% if context.id == 0 %}
<script src="/static/js/script_q1_2.js"></script>
{% else %}
<script src="/static/js/script_q1_1.js"></script>
{% endif %}

{%endblock%}


{%block Footer %}
{% load bootstrap_icons %}
<footer class="text-center text-lg-start text-white" style="background: rgba(0, 0, 0, 0.2)" >
  <!-- Grid container -->
  <div class="container p-4 pb-0">
    <!-- Section: Links -->
    <section>
      <!--Grid row-->
      <div class="row">
        <!-- Grid column -->
        <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3 foot-p">
          <h6 class="text-uppercase mb-4 font-weight-bold">
            NOTRE CLIENT: 
          </h6>
          <P>GRETA YVELINES</P>
          <p>Gilles Veronie</p>
        </div>
        <!-- Grid column -->

        <hr class="w-100 clearfix d-md-none" />

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mt-3 text-white foot-p">
          <h6 class="text-uppercase mb-4 font-weight-bold ">TASKS</h6>
          <p>Extraction/nettoyage des donnees</p>
          <p>Cartographie</p>
          <p>Exploitation des donnees</p>
          <p>Front(Django)</p>
        </div>
        <!-- Grid column -->

        <hr class="w-100 clearfix d-md-none" />

        <!-- Grid column -->
        <hr class="w-100 clearfix d-md-none" />

        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mt-3 foot-p">
          <h6 class="text-uppercase mb-4 font-weight-bold">TEAM MEMBER</h6>
          <p> Nicolas.C(chef de projet) <br> et Damien</p>
          <p>Frantz et Djensen</p>
          <p> Nicolas.T</p>
          <br>
          <p>Gabriel et Rangdol</p>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mt-3 foot-p">
          <h6 class="text-uppercase mb-4 font-weight-bold">Follow us</h6>

          <!-- Facebook -->
          <a
              class="btn btn-primary btn-floating m-1"
              style="background-color: #3b5998"
              href="#!"
              role="button"
              ><i class="bi bi-facebook"></i
            ></a>

          <!-- Twitter -->
          <a
              class="btn btn-primary btn-floating m-1"
              style="background-color: #55acee"
              href="#!"
              role="button"
              ><i class="bi bi-twitter"></i
            ></a>

          <!-- Google -->
          <a
              class="btn btn-primary btn-floating m-1"
              style="background-color: #dd4b39"
              href="#!"
              role="button"
              ><i class="bi bi-google"></i
            ></a>

          <!-- Instagram -->
          <a
              class="btn btn-primary btn-floating m-1"
              style="background-color: #ac2bac"
              href="#!"
              role="button"
              ><i class="bi bi-instagram"></i
            ></a>

          <!-- Linkedin -->
          <a
              class="btn btn-primary btn-floating m-1"
              style="background-color: #0082ca"
              href="#!"
              role="button"
              ><i class="bi bi-linkedin"></i
            ></a>
          <!-- Github -->
          <a
              class="btn btn-primary btn-floating m-1"
              style="background-color: #333333"
              href="#!"
              role="button"
              ><i class="bi bi-github"></i
            ></a>
        </div>
      </div>
      <!--Grid row-->
    </section>
    <!-- Section: Links -->
  </div>
  <!-- Grid container -->

  <!-- Copyright -->
  <div
        class="text-center p-3"
        style="background-color: rgba(0, 0, 0, 0.2)"
        >
    © 2022 Copyright:
    <a class="text-white" href="/home"
        > <span class="foot-p">Anomalie Paris Project and All right Reserved </span></a
      >
  </div>
  <!-- Copyright -->
</footer>
{%endblock%}
